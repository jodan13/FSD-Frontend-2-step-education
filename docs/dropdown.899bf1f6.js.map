{"version":3,"sources":["components/dropdown.js"],"names":["$input","$goriginalPlaceholder","$gparent","$gi","$gcategory","$gtext","$gname","$gbuttons","$gbutton_minus","$gvalue","$gbutton_plus","$gclose","$gadded","$gsum","$gnum","$baby","$last","$gzero","$","fn","guest","options","attr","settings","extend","categoryNames","categoryValues","minValue","maxValue","closeOnOutsideClick","showText","delimiter","align","fade","useDisplay","showZero","callback","values","doCallback","callbackResult","length","call","updateElement","val","$gdisplay","empty","$gdisplayelements","$gdisplayelement","appendTo","text","updateText","formsgb","xgb10","xgb100","formgb","formsb","xb10","xb100","formb","forms","x10","x100","form","hide","show","switchSelector","fadeToggle","toggle","newFilledArray","len","rv","Array","createHTML","prependTo","css","position","top","left","width","height","click","outerHeight","addClass","fadeOut","document","mouseup","e","is","target","has","window","resize","setPositions","removeClass","jQuery"],"mappings":"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","file":"dropdown.899bf1f6.js","sourceRoot":"..\\src","sourcesContent":["import \"./dropdown.scss\";\r\n\r\n/*\r\n * numbercategoryselector.js\r\n * Author & copyright (c) 2017: Sakri Koskimies\r\n *\r\n * MIT license\r\n */\r\nlet $input,\r\n  $goriginalPlaceholder,\r\n  $gparent,\r\n  $gi,\r\n  $gcategory,\r\n  $gtext,\r\n  $gname,\r\n  $gbuttons,\r\n  $gbutton_minus,\r\n  $gvalue,\r\n  $gbutton_plus,\r\n  $gclose,\r\n  $gadded,\r\n  $gsum,\r\n  $gnum,\r\n  $baby,\r\n  $last,\r\n  $gzero;\r\n(function($) {\r\n  $.fn.guest = function(options) {\r\n    $input = $(this);\r\n    $goriginalPlaceholder = $input.attr(\"placeholder\");\r\n\r\n    var settings = $.extend(\r\n      {\r\n        // Defaults.\r\n        categoryNames: [\"Adults\", \"Children\"],\r\n        categoryValues: false,\r\n        minValue: 0,\r\n        maxValue: 10,\r\n        closeOnOutsideClick: true,\r\n        showText: true,\r\n        delimiter: \", \",\r\n        align: \"left\",\r\n        fade: true,\r\n        useDisplay: true,\r\n        showZero: false,\r\n        callback: function(values) {}\r\n      },\r\n      options\r\n    );\r\n\r\n    if (!settings.categoryValues) {\r\n      settings.categoryValues = newFilledArray(settings.categoryNames.length, 0);\r\n    }\r\n\r\n    $gparent = createHTML();\r\n\r\n    if (settings.closeOnOutsideClick) {\r\n      $(document).mouseup(function(e) {\r\n        if (\r\n          !$input.is(e.target) &&\r\n          !$gparent.is(e.target) &&\r\n          $gparent.has(e.target).length === 0 &&\r\n          !$(\"div.guest.display\").is(e.target) &&\r\n          $(\"div.guest.display\").has(e.target).length === 0\r\n        ) {\r\n          if (settings.fade) {\r\n            $gparent.fadeOut(200);\r\n          } else {\r\n            $gparent.hide();\r\n          }\r\n        }\r\n      });\r\n    }\r\n\r\n    $(this).click(function() {\r\n      switchSelector();\r\n    });\r\n\r\n    $(window).resize(function() {\r\n      setPositions();\r\n    });\r\n\r\n    function doCallback() {\r\n      if (typeof options.callback == \"function\") {\r\n        var callbackResult = {};\r\n        for ($gi = 0; $gi < settings.categoryNames.length; $gi++) {\r\n          callbackResult[settings.categoryNames[$gi]] = settings.categoryValues[$gi];\r\n        }\r\n        options.callback.call(this, callbackResult);\r\n      }\r\n    }\r\n\r\n    function setPositions() {\r\n      switch (settings.align) {\r\n        case \"left\":\r\n          $gparent.css(\"top\", $input.position().top + $input.outerHeight());\r\n          $gparent.css(\"left\", $input.position().left);\r\n          break;\r\n      }\r\n      if (settings.useDisplay) {\r\n        $gdisplay = $(\"div.guest.display\");\r\n        $gdisplay.css(\"top\", $input.position().top + 1);\r\n        $gdisplay.css(\"left\", $input.position().left + 1);\r\n        $gdisplay.css(\"width\", $input.width() - 1);\r\n        $gdisplay.css(\"height\", $input.height() - 1);\r\n      }\r\n    }\r\n\r\n    $(\"a.guest.button.plus\").click(function() {\r\n      $gcategory = $(this).attr(\"category\");\r\n      if (settings.categoryValues[$gcategory] < settings.maxValue) {\r\n        settings.categoryValues[$gcategory]++;\r\n        $gnum = settings.categoryValues[$gcategory];\r\n        $(\"div.guest.value[category='\" + $gcategory + \"']\").text($gnum);\r\n        doCallback();\r\n        if (settings.categoryValues[$gcategory] == settings.maxValue) {\r\n          $(this).addClass(\"inactive\");\r\n        } else {\r\n          $(this).removeClass(\"inactive\");\r\n        }\r\n        if (settings.categoryValues[$gcategory] > settings.minValue) {\r\n          $(\"a.guest.button.minus[category='\" + $gcategory + \"']\").removeClass(\"inactive\");\r\n        } else {\r\n          $(\"a.guest.button.minus[category='\" + $gcategory + \"']\").addClass(\"inactive\");\r\n        }\r\n      }\r\n      if (settings.showText) {\r\n        if (!settings.useDisplay) {\r\n          updateText();\r\n        } else {\r\n          updateElement();\r\n        }\r\n      }\r\n      return false;\r\n    });\r\n\r\n    $(\"a.guest.button.minus\").click(function() {\r\n      $gcategory = $(this).attr(\"category\");\r\n      if (settings.categoryValues[$gcategory] > settings.minValue) {\r\n        settings.categoryValues[$gcategory]--;\r\n        $gnum = settings.categoryValues[$gcategory];\r\n        $(\"div.guest.value[category='\" + $gcategory + \"']\").text($gnum);\r\n        doCallback();\r\n        if (settings.categoryValues[$gcategory] == settings.minValue) {\r\n          $(this).addClass(\"inactive\");\r\n        } else {\r\n          $(this).removeClass(\"inactive\");\r\n        }\r\n        if (settings.categoryValues[$gcategory] < settings.maxValue) {\r\n          $(\"a.guest.button.plus[category='\" + $gcategory + \"']\").removeClass(\"inactive\");\r\n        } else {\r\n          $(\"a.guest.button.plus[category='\" + $gcategory + \"']\").addClass(\"inactive\");\r\n        }\r\n      }\r\n      if (settings.showText) {\r\n        if (!settings.useDisplay) {\r\n          updateText();\r\n        } else {\r\n          updateElement();\r\n        }\r\n      }\r\n      return false;\r\n    });\r\n\r\n    function updateElement() {\r\n      $input.val(\"\");\r\n      $gdisplay = $(\"div.guest.inlinedisplay\");\r\n      $gdisplay.empty();\r\n      $gdisplayelements = 0;\r\n      for ($gi = 0; $gi < settings.categoryNames.length; $gi++) {\r\n        if (settings.categoryValues[$gi] != 0 || settings.showZero) {\r\n          $gdisplayelement = $(\"<div class='guest displayelement'></div>\").appendTo($gdisplay);\r\n          $gdisplayelement.text(settings.categoryValues[$gi] + \" \" + settings.categoryNames[$gi] + \", \");\r\n          $gdisplayelements++;\r\n        }\r\n      }\r\n      if ($gdisplayelements == 0) {\r\n        $input.attr(\"placeholder\", $goriginalPlaceholder);\r\n      } else {\r\n        $input.attr(\"placeholder\", \"\");\r\n      }\r\n      updateText();\r\n    }\r\n\r\n    function updateText() {\r\n      $gtext = \"\";\r\n      $gadded = 0;\r\n      $gsum = 0;\r\n      $baby = 0;\r\n      $last = settings.categoryNames.length - 1;\r\n      for ($gi = 0; $gi < settings.categoryNames.length; $gi++) {\r\n        if (settings.categoryValues[$gi] != 0 || settings.showZero) {\r\n          $gsum += settings.categoryValues[$gi];\r\n          $gadded++;\r\n        }\r\n      }\r\n      $baby += settings.categoryValues[$last];\r\n\r\n      if ($baby != 0) {\r\n        //$gtext+=$gsum + \" гостя, \" + $baby + \" младенцы\";   Если младенец != гость\r\n        let formsgb = [\"гость\", \"гостя\", \"гостей\"];\r\n        let xgb10 = ($gsum - $baby) % 10,\r\n          xgb100 = ($gsum - $baby) % 100,\r\n          formgb = formsgb[2]; // гостей\r\n        if (xgb10 == 1 && xgb100 != 11) formgb = formsgb[0];\r\n        // гость\r\n        else if (xgb10 > 1 && xgb10 < 5 && (xgb100 < 10 || xgb100 > 21)) formgb = formsgb[1]; // гостя\r\n        let formsb = [\"младенец\", \"младенца\", \"младенцев\"];\r\n        let xb10 = $baby % 10,\r\n          xb100 = $baby % 100,\r\n          formb = formsb[2]; // младенцев\r\n        if (xb10 == 1 && xb100 != 11) formb = formsb[0];\r\n        // младенец\r\n        else if (xb10 > 1 && xb10 < 5 && (xb100 < 10 || xb100 > 21)) formb = formsb[1]; // младенца\r\n        $gtext += $gsum - $baby + \" \" + formgb + \", \" + $baby + \" \" + formb;\r\n      } else {\r\n        let forms = [\"гость\", \"гостя\", \"гостей\"];\r\n        let x10 = $gsum % 10,\r\n          x100 = $gsum % 100,\r\n          form = forms[2]; // гостей\r\n        if (x10 == 1 && x100 != 11) form = forms[0];\r\n        // гость\r\n        else if (x10 > 1 && x10 < 5 && (x100 < 10 || x100 > 21)) form = forms[1]; // гостя\r\n        $gtext += $gsum + \" \" + form;\r\n      }\r\n\r\n      if ($gsum == 0) {\r\n        $input.val($goriginalPlaceholder);\r\n        $(\".NCSG.reset\").hide();\r\n      } else {\r\n        $input.val($gtext);\r\n        $(\".NCSG.reset\").show();\r\n      }\r\n    }\r\n\r\n    function createHTML() {\r\n      $input.attr(\"type\", \"text\");\r\n      if (settings.useDisplay) {\r\n        $input.attr(\"placeholder\", \"\");\r\n\r\n        $gdisplay = $(\"<div class='guest display'></div>\").prependTo(\"body\");\r\n        $gdisplay.css(\"top\", $input.position().top + 1);\r\n        $gdisplay.css(\"left\", $input.position().left + 1);\r\n        $gdisplay.css(\"width\", $input.width() - 1);\r\n        $gdisplay.css(\"height\", $input.height() - 1);\r\n\r\n        $(\"<div class='guest inlinedisplay'></div>\").prependTo($gdisplay);\r\n\r\n        $gdisplay.click(function() {\r\n          switchSelector();\r\n        });\r\n      }\r\n\r\n      $gparent = $(\"<div class='guest parent'></div>\")\r\n        .prependTo(\"body\")\r\n        .hide();\r\n\r\n      switch (settings.align) {\r\n        case \"left\":\r\n          $gparent.css(\"top\", $input.position().top + $input.outerHeight() - 3);\r\n          $gparent.css(\"left\", $input.position().left);\r\n          break;\r\n      }\r\n\r\n      for ($gi = 0; $gi < settings.categoryNames.length; $gi++) {\r\n        $gcategory = $(\"<div class='guest category'></div>\").appendTo($gparent);\r\n        $gtext = $(\"<div class='guest text'></div>\").appendTo($gcategory);\r\n        $gname = $(\"<div class='guest name' category='\" + $gi + \"'>\" + settings.categoryNames[$gi] + \"</div>\").appendTo($gtext);\r\n        $gbuttons = $(\"<div class='guest buttons'></div>\").appendTo($gcategory);\r\n        $gbutton_minus = $(\"<a href='' class='guest button minus' category='\" + $gi + \"'>&#8211;</a>\").appendTo($gbuttons);\r\n        $gvalue = $(\"<div class='guest value' category='\" + $gi + \"'>\" + settings.categoryValues[$gi] + \"</div>\").appendTo(\r\n          $gbuttons\r\n        );\r\n        $gbutton_plus = $(\"<a href='' class='guest button plus' category='\" + $gi + \"'>&#43;</a>\").appendTo($gbuttons);\r\n\r\n        if (settings.categoryValues[$gi] == settings.maxValue) {\r\n          $gbutton_plus.addClass(\"inactive\");\r\n        }\r\n\r\n        if (settings.categoryValues[$gi] == settings.minValue) {\r\n          $gbutton_minus.addClass(\"inactive\");\r\n        }\r\n      }\r\n      $gclose = $(\"<div class='NCSG room'></div><a class='NCSG close' href=''>Применить</a>\").appendTo($gparent);\r\n      $gclose.click(function() {\r\n        if (settings.fade) {\r\n          $gparent.fadeOut(200);\r\n        } else {\r\n          $gparent.hide();\r\n        }\r\n        return false;\r\n      });\r\n      $gzero = $(\"<div class='NCSG room'></div><a class='NCSG reset' href=''>Очистить</a>\").appendTo($gparent);\r\n      $gzero.click(function() {\r\n        for ($gi = 0; $gi < settings.categoryNames.length; $gi++) {\r\n          if (settings.categoryValues[$gi] != 0 || settings.showZero) {\r\n            settings.categoryValues[$gi] = 0;\r\n            $(\"div.guest.value[category='\" + $gi + \"']\").text(\"0\");\r\n            $(\".guest.button.minus\").addClass(\"inactive\");\r\n            doCallback();\r\n          }\r\n        }\r\n        updateText();\r\n        return false;\r\n      });\r\n      if (settings.showText) {\r\n        if (!settings.useDisplay) {\r\n          updateText();\r\n        } else {\r\n          updateElement();\r\n        }\r\n      }\r\n\r\n      if (settings.useDisplay) {\r\n        $input.css(\"color\", \"transparent\");\r\n      }\r\n\r\n      return $gparent;\r\n    }\r\n\r\n    function switchSelector() {\r\n      if (settings.fade) {\r\n        $gparent.fadeToggle(200);\r\n      } else {\r\n        $gparent.toggle();\r\n      }\r\n    }\r\n\r\n    function newFilledArray(len, val) {\r\n      var rv = new Array(len);\r\n      while (--len >= 0) {\r\n        rv[len] = val;\r\n      }\r\n      return rv;\r\n    }\r\n  };\r\n  $(\"input[name='guest']\").guest({\r\n    categoryNames: [\"Взрослые\", \"Дети\", \"Младенцы\"],\r\n    categoryValues: false,\r\n    minValue: 0,\r\n    maxValue: 10,\r\n    closeOnOutsideClick: false,\r\n    showText: true,\r\n    delimiter: \", \",\r\n    align: \"left\",\r\n    fade: true,\r\n    useDisplay: false,\r\n    showZero: false\r\n  });\r\n})(jQuery);\r\n"]}